<!-- <a class="btn btn-primary" ng-href="/#/dept/create">
	<span class="glyphicon glyphicon-plus"></span>Create dept
</a> -->

<div ng-controller = "DeptsPageCtrl">
	<form class="form-inline">
	<!--<div class="form-group">
	    	<label for=""></label>
	    	<input type="text" class="form-control" placeholder="" ng-model="query.name">
		</div> 
		<div class="form-group">
	    	<label for="">Spell</label>
	    	<input type="text" class="form-control" placeholder="" ng-model="query.spell">
	  	</div>-->

	    <div class="input-group">
	      	<div class="input-group-addon">Name</div>
	      	<input type="text" class="form-control" placeholder="" ng-model="query.name">
	    </div>
	  	<div class="input-group">
	      	<div class="input-group-addon">Spell</div>
	      	<input type="text" class="form-control" placeholder="" ng-model="query.spell">
	    </div>
	  
	  	<div class="checkbox">
	    	<label>
	      		<input type="checkbox" ng-model="exactMatch"> Exact Match
	    	</label>
	  	</div>
	</form>

	<br>
	<div class="row">
	  	<div class="col-md-4">{{bigTotalItems}} depts</div>
	  	<div class="col-md-4 col-md-offset-4 text-right">Page {{bigCurrentPage}} of {{numPages}}</div>
	</div>

	<table class="table table-striped table-hover">
		<thead>
			<th >No.</th>
			<th >Name</th>
			<th >Spell</th>
			<th >Parent</th>
			<th class="text-right ">Options</th>
		</thead>
		<tbody>
			<tr ng-repeat="dept in depts | filter:query:exactMatch">
				<td>{{$index + 1}}</td>
				<td><a ng-href="/#/dept/{{dept._id}}">{{dept.name}}</a></td>
				<td>{{dept.spell}}</td>
				<td> <span ng-if="dept.parent" ng-bind="dept.parent.name"></span> {{dept.parent}}</td>
				<td class="text-right"> 
					<div class="button-group">
						<a ng-href="/#/dept/{{dept._id}}/edit" class="btn btn-default">
							<span class="glyphicon glyphicon-edit"></span>
						</a>
						<a ng-href="/#/dept/{{dept._id}}/delete" class="btn btn-danger">
							<span class="glyphicon glyphicon-remove-circle"></span>
						</a>

						<button type="button" class="btn btn-danger" ng-click="open('sm', dept._id)">
							<span class="glyphicon glyphicon-remove-circle"></span>
						</button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>

	<uib-pagination total-items="bigTotalItems" items-per-page="itemsPerPage" num-pages="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" ng-change="pageChange()"></uib-pagination>
</div>